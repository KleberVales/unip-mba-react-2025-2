<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda React - Conceitos de Props e Componentes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone/babel.min.js"></script>

    <!-- Design Tokens com Tailwind -->
    <style type="text/tailwindcss">
        @layer base {
            /* Configura√ß√£o de Cores */
            :root {
                --color-primary: #3b82f6;      /* Azul */
                --color-secondary: #8b5cf6;    /* Roxo */
                --color-success: #10b981;      /* Verde */
                --color-danger: #ef4444;       /* Vermelho */
                --color-warning: #f59e0b;      /* Amarelo */
                --color-dark: #1f2937;         /* Cinza Escuro */
                --color-light: #f3f4f6;        /* Cinza Claro */
            }

            /* Fontes */
            body {
                font-family: 'Inter', system-ui, -apple-system, sans-serif;
                @apply bg-gray-50 text-gray-800;
            }

            h1 { @apply text-4xl font-bold; }
            h2 { @apply text-3xl font-semibold; }
            h3 { @apply text-2xl font-semibold; }
            h4 { @apply text-xl font-medium; }
            p { @apply text-base; }
            small { @apply text-sm; }
        }

        @layer components {
            /* Bordas Arredondadas Padronizadas */
            .rounded-default { @apply rounded-lg; }
            .rounded-card { @apply rounded-xl; }
            .rounded-button { @apply rounded-md; }

            /* Tamanhos de Fonte */
            .text-xs-custom { @apply text-xs; }
            .text-sm-custom { @apply text-sm; }
            .text-base-custom { @apply text-base; }
            .text-lg-custom { @apply text-lg; }
            .text-xl-custom { @apply text-xl; }

            /* Contrastes e Sombras */
            .shadow-soft { @apply shadow-md hover:shadow-lg transition-shadow; }
            .shadow-card { @apply shadow-xl; }

            /* Alto Contraste para Acessibilidade */
            .high-contrast { @apply bg-gray-900 text-white; }
            .high-contrast-border { @apply border-2 border-gray-700; }
        }
    </style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">
    // ===== 1. COMPONENTE TEXTO =====
    // Componente reutiliz√°vel para exibir textos com varia√ß√µes
    // Props: children (texto), variant (tipo), color (cor), className (classes extras)
    function Texto({ children, variant = "body", color = "gray-800", className = "" }) {
        const variants = {
            h1: "text-4xl font-bold",
            h2: "text-3xl font-semibold",
            h3: "text-2xl font-semibold",
            h4: "text-xl font-medium",
            body: "text-base",
            small: "text-sm",
            caption: "text-xs"
        };

        const Tag = variant.startsWith('h') ? variant : 'p';
        const classes = `${variants[variant]} text-${color} ${className}`;

        return <Tag className={classes}>{children}</Tag>;
    }

    // ===== 2. COMPONENTE BUTTON =====
    // Componente de bot√£o com diferentes variantes e tamanhos
    // Props: children (conte√∫do), variant (estilo), size (tamanho), onClick (fun√ß√£o), disabled (desabilitado)
    function Button({
                        children,
                        variant = "primary",
                        size = "md",
                        onClick,
                        disabled = false,
                        className = ""
                    }) {
        const variants = {
            primary: "bg-blue-500 hover:bg-blue-600 text-white",
            secondary: "bg-purple-500 hover:bg-purple-600 text-white",
            success: "bg-green-500 hover:bg-green-600 text-white",
            danger: "bg-red-500 hover:bg-red-600 text-white",
            warning: "bg-yellow-500 hover:bg-yellow-600 text-white",
            outline: "bg-transparent border-2 border-blue-500 text-blue-500 hover:bg-blue-50"
        };

        const sizes = {
            sm: "px-3 py-1.5 text-sm",
            md: "px-4 py-2 text-base",
            lg: "px-6 py-3 text-lg"
        };

        const classes = `
                ${variants[variant]}
                ${sizes[size]}
                rounded-button
                font-medium
                transition-all
                duration-200
                shadow-soft
                disabled:opacity-50
                disabled:cursor-not-allowed
                ${className}
            `;

        return (
            <button
                className={classes}
                onClick={onClick}
                disabled={disabled}
            >
                {children}
            </button>
        );
    }

    // ===== 3. COMPONENTE CARD =====
    // Componente Card para encapsular conte√∫do
    // Props: title (t√≠tulo), children (conte√∫do), footer (rodap√©), variant (estilo)
    function Card({
                      title,
                      children,
                      footer,
                      className = "",
                      variant = "default"
                  }) {
        const variants = {
            default: "bg-white border border-gray-200",
            primary: "bg-blue-50 border border-blue-200",
            success: "bg-green-50 border border-green-200",
            warning: "bg-yellow-50 border border-yellow-200"
        };

        return (
            <div className={`${variants[variant]} rounded-card shadow-card p-6 ${className}`}>
                {title && (
                    <div className="mb-4 pb-4 border-b border-gray-200">
                        <Texto variant="h3">{title}</Texto>
                    </div>
                )}
                <div className="space-y-4">
                    {children}
                </div>
                {footer && (
                    <div className="mt-4 pt-4 border-t border-gray-200">
                        {footer}
                    </div>
                )}
            </div>
        );
    }

    // ===== 4. COMPONENTE CALENDARIO =====
    // Componente de calend√°rio simples mostrando o m√™s atual
    // Props: diaSelecionado, onDiaClick
    function Calendario({ diaSelecionado, onDiaClick }) {
        const hoje = new Date();
        const mesAtual = hoje.getMonth();
        const anoAtual = hoje.getFullYear();
        const diaHoje = hoje.getDate();

        // useState para controlar hover
        const [diaHover, setDiaHover] = React.useState(null);

        // useRef para refer√™ncia ao container do calend√°rio
        const calendarioRef = React.useRef(null);

        // useEffect para log quando dia selecionado muda
        React.useEffect(() => {
            if (diaSelecionado) {
                console.log(`üìÖ Dia selecionado: ${diaSelecionado}`);
            }
        }, [diaSelecionado]);

        // Gerar dias do m√™s
        const diasNoMes = new Date(anoAtual, mesAtual + 1, 0).getDate();
        const primeiroDia = new Date(anoAtual, mesAtual, 1).getDay();

        const meses = [
            "Janeiro", "Fevereiro", "Mar√ßo", "Abril", "Maio", "Junho",
            "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"
        ];

        const diasSemana = ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "S√°b"];

        // Criar array de dias
        const dias = [];
        for (let i = 0; i < primeiroDia; i++) {
            dias.push(null);
        }
        for (let dia = 1; dia <= diasNoMes; dia++) {
            dias.push(dia);
        }

        return (
            <Card title={`${meses[mesAtual]} ${anoAtual}`}>
                {/* Dias da Semana */}
                <div className="grid grid-cols-7 gap-2 mb-2">
                    {diasSemana.map(dia => (
                        <div key={dia} className="text-center font-semibold text-gray-600 text-sm">
                            {dia}
                        </div>
                    ))}
                </div>

                {/* Dias do M√™s */}
                <div ref={calendarioRef} className="grid grid-cols-7 gap-2">
                    {dias.map((dia, index) => (
                        <div
                            key={index}
                            onClick={() => dia && onDiaClick && onDiaClick(dia)}
                            onMouseEnter={() => dia && setDiaHover(dia)}
                            onMouseLeave={() => setDiaHover(null)}
                            className={`
                                    h-10 rounded-button text-sm font-medium
                                    flex items-center justify-center
                                    transition-all duration-200
                                    ${!dia ? 'invisible' : 'cursor-pointer'}
                                    ${dia === diaSelecionado
                                ? 'bg-blue-500 text-white shadow-md scale-110'
                                : dia === diaHoje
                                    ? 'bg-blue-100 text-blue-700 border-2 border-blue-500'
                                    : dia === diaHover
                                        ? 'bg-blue-50 text-blue-600 shadow-sm'
                                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                            }
                                `}
                        >
                            {dia}
                        </div>
                    ))}
                </div>
            </Card>
        );
    }

    // ===== 5. COMPONENTE ITEM DE COMPROMISSO =====
    // Mostra um compromisso individual
    // Props: horario, titulo, descricao, onRemove
    function CompromissoItem({ id, horario, titulo, descricao,onRemove}) {
        return (
            <div className="bg-white p-4 rounded-default border border-gray-200 hover:shadow-md transition-shadow flex justify-between items-start">
                <div className="flex-1">
                    <div className="flex items-center gap-3 mb-2">
                        <span className="text-blue-600 font-bold text-lg">
                            üïê {horario}
                        </span>
                        <Texto variant="h4">{titulo}</Texto>
                    </div>
                    {descricao && (
                        <Texto variant="small" color="gray-600">
                            {descricao}
                        </Texto>
                    )}
                </div>
                <Button
                    variant = "danger"
                    size="sm"
                    onClick={() =>onRemove(id)}
                    className = "ml-3"
                >
                    X
                </Button>
            </div>
        );
    }

    // ===== 6. COMPONENTE AGENDA =====
    // Componente principal da agenda com lista de compromissos do dia
    // Props: data (texto da data), compromissos (array de objetos)
    function Agenda({ data, compromissos, onRemove}) {
        return (
            <Card
                title="Agenda do Dia"
                variant="primary"
            >
                <Texto variant="body" color="gray-600" className="capitalize">
                    üìÖ {data}
                </Texto>

                {/* Lista de compromissos */}
                <div className="space-y-3">
                    <Texto variant="h4">
                        Compromissos ({compromissos.length})
                    </Texto>

                    {compromissos.length === 0 ? (
                        <div className="text-center py-8 bg-gray-50 rounded-default">
                            <Texto variant="body" color="gray-500">
                                üìÖ Nenhum compromisso para hoje
                            </Texto>
                        </div>
                    ) : (
                        compromissos.map(compromisso => (
                            <CompromissoItem
                                key={compromisso.id}
                                id={compromisso.id}
                                horario={compromisso.horario}
                                titulo={compromisso.titulo}
                                descricao={compromisso.descricao}
                                onRemove={onRemove}
                            />
                        ))
                    )}
                </div>
            </Card>
        );
    }

    // ===== 7. COMPONENTE HISTORICO AGENDA =====
    // Componente para exibir hist√≥rico de compromissos agrupados por data
    // Props: historico (array de objetos com data e compromissos)
    function HistoricoAgenda({ historico }) {
        const totalCompromissos = historico.reduce((total, dia) => total + dia.compromissos.length, 0);

        return (
            <Card
                title="Hist√≥rico da Agenda"
                variant="default"
                footer={
                    <Texto variant="small" color="gray-600">
                        Total: {totalCompromissos} compromissos registrados
                    </Texto>
                }
            >
                {historico.length === 0 ? (
                    <div className="text-center py-12 bg-gray-50 rounded-default">
                        <Texto variant="h3" color="gray-400" className="mb-2">
                            üìã
                        </Texto>
                        <Texto variant="body" color="gray-500">
                            Nenhum compromisso registrado ainda
                        </Texto>
                    </div>
                ) : (
                    <div className="space-y-6">
                        {historico.map((diaHistorico, index) => (
                            <div key={index} className="space-y-2">
                                <div className="flex items-center gap-2">
                                    <Texto variant="h4" color="blue-600">
                                        üìÖ {diaHistorico.data}
                                    </Texto>
                                    <span className="bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-xs font-semibold">
                                            {diaHistorico.compromissos.length}
                                        </span>
                                </div>
                                <div className="space-y-2 ml-4">
                                    {diaHistorico.compromissos.map(compromisso => (
                                        <div
                                            key={compromisso.id}
                                            className="bg-gray-50 p-3 rounded-default border-l-4 border-blue-500"
                                        >
                                            <div className="flex items-center gap-2">
                                                <Texto variant="small" color="blue-600" className="font-bold">
                                                    {compromisso.horario}
                                                </Texto>
                                                <Texto variant="small" className="font-semibold">
                                                    {compromisso.titulo}
                                                </Texto>
                                            </div>
                                            {compromisso.descricao && (
                                                <Texto variant="caption" color="gray-600" className="mt-1">
                                                    {compromisso.descricao}
                                                </Texto>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        ))}
                    </div>
                )}
            </Card>
        );
    }

    // ===== APLICA√á√ÉO PRINCIPAL =====
    // Usando useState, useEffect e eventos
    function App() {
        const hoje = new Date();

        // useState para dia selecionado no calend√°rio
        const [diaSelecionado, setDiaSelecionado] = React.useState(hoje.getDate());

        // useState com compromissos organizados por dia (chave = dia do m√™s)
        const [compromissosPorDia, setCompromissosPorDia] = React.useState({
            18: [
                { id: 1, horario: "09:00", titulo: "Reuni√£o de Equipe", descricao: "Discutir andamento do projeto React" },
                { id: 2, horario: "12:30", titulo: "Almo√ßo com Cliente", descricao: "Restaurante Villa Bisutti" },
                { id: 3, horario: "15:00", titulo: "Aula de React", descricao: "Estudar Props e Componentes" }
            ],
            19: [
                { id: 4, horario: "10:00", titulo: "M√©dico", descricao: "Consulta de rotina" },
                { id: 5, horario: "14:00", titulo: "Academia", descricao: "" }
            ],
            20: [
                { id: 6, horario: "11:00", titulo: "Dentista", descricao: "Limpeza" }
            ]
        });

        // useState para compromissos do dia atual (filtrado)
        const [compromissosHoje, setCompromissosHoje] = React.useState([]);

        // useEffect para atualizar compromissos quando dia muda
        React.useEffect(() => {
            const compromissos = compromissosPorDia[diaSelecionado] || [];
            setCompromissosHoje(compromissos);
            console.log(`üìÖ Compromissos do dia ${diaSelecionado}:`, compromissos.length);
        }, [diaSelecionado, compromissosPorDia]);

        // useEffect para atualizar t√≠tulo da p√°gina quando dia muda
        React.useEffect(() => {
            document.title = `Agenda - Dia ${diaSelecionado}`;
        }, [diaSelecionado]);

        // Fun√ß√£o para remover um compromisso ao clicar no bot√£o X
        const removerCompromisso = (id) => {
            setCompromissosPorDia(prev => ({
                ...prev,
                [diaSelecionado]: prev[diaSelecionado].filter(c => c.id !== id)
            }));
        };

        // Fun√ß√£o para selecionar dia no calend√°rio (evento onClick)
        const handleDiaClick = (dia) => {
            setDiaSelecionado(dia);
            console.log(`‚úÖ Dia ${dia} selecionado!`);
        };

        // Dados fixos para exemplo
        const dataFormatada = hoje.toLocaleDateString('pt-BR', {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });

        // Hist√≥rico de outros dias (dados fixos)
        const historico = [
            {
                data: "18/11/2025",
                compromissos: [
                    { id: 10, horario: "10:00", titulo: "M√©dico", descricao: "Consulta de rotina" },
                    { id: 11, horario: "14:00", titulo: "Academia", descricao: "" }
                ]
            },
            {
                data: "17/11/2025",
                compromissos: [
                    { id: 20, horario: "09:00", titulo: "Trabalho", descricao: "In√≠cio do projeto novo" },
                    { id: 21, horario: "16:00", titulo: "Reuni√£o Online", descricao: "Com a equipe de marketing" }
                ]
            },
            {
                data: "16/11/2025",
                compromissos: [
                    { id: 30, horario: "11:00", titulo: "Dentista", descricao: "Limpeza" }
                ]
            }
        ];

        return (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 py-8 px-4">
                <div className="max-w-7xl mx-auto">
                    {/* Cabe√ßalho */}
                    <div className="text-center mb-8">
                        <Texto variant="h1" className="mb-2">
                            üìÖ Agenda React
                        </Texto>
                        <Texto variant="body" color="gray-600">
                            Aplica√ß√£o para consolidar conceitos de Props e Componentes
                        </Texto>
                    </div>

                    {/* Layout em Grid - Passando props para cada componente */}
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        {/* Coluna 1: Calend√°rio */}
                        <div className="lg:col-span-1">
                            <Calendario
                                diaSelecionado={diaSelecionado}
                                onDiaClick={handleDiaClick}
                            />
                        </div>

                        {/* Coluna 2: Agenda do Dia */}
                        <div className="lg:col-span-1">
                            <Agenda
                                data={dataFormatada}
                                compromissos={compromissosHoje}
                                onRemove={removerCompromisso}
                            />
                        </div>

                        {/* Coluna 3: Hist√≥rico */}
                        <div className="lg:col-span-1">
                            <HistoricoAgenda historico={historico} />
                        </div>
                    </div>

                    {/* Rodap√© com informa√ß√µes did√°ticas */}
                    <div className="mt-8">
                        <Card variant="success">
                            <Texto variant="h4" className="mb-3">
                                üéì Conceitos Aprendidos
                            </Texto>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <Texto variant="small" className="font-semibold mb-1">
                                        ‚úÖ Props
                                    </Texto>
                                    <Texto variant="caption" color="gray-600">
                                        Passagem de dados entre componentes (variant, size, children, etc.)
                                    </Texto>
                                </div>
                                <div>
                                    <Texto variant="small" className="font-semibold mb-1">
                                        ‚úÖ Componentes Reutiliz√°veis
                                    </Texto>
                                    <Texto variant="caption" color="gray-600">
                                        Texto, Button, Card, Calendario, Agenda e Hist√≥rico
                                    </Texto>
                                </div>
                                <div>
                                    <Texto variant="small" className="font-semibold mb-1">
                                        ‚úÖ Composi√ß√£o
                                    </Texto>
                                    <Texto variant="caption" color="gray-600">
                                        Componentes dentro de outros componentes (Card com Texto e Button)
                                    </Texto>
                                </div>
                                <div>
                                    <Texto variant="small" className="font-semibold mb-1">
                                        ‚úÖ Design Tokens
                                    </Texto>
                                    <Texto variant="caption" color="gray-600">
                                        Cores, fontes, bordas arredondadas e tamanhos padronizados
                                    </Texto>
                                </div>
                            </div>
                        </Card>
                    </div>
                </div>
            </div>
        );
    }
    // Renderizar aplica√ß√£o
    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
</script>
</body>
</html>